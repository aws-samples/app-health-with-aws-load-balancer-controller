"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const ec2=require("../../aws-ec2"),cdk=require("../../core"),rds=require("../lib"),app=new cdk.App,stack=new cdk.Stack(app,"aws-cdk-rds-cluster-rotation"),vpc=new ec2.Vpc(stack,"VPC"),securityGroup=new ec2.SecurityGroup(stack,"SecurityGroup",{vpc}),endpoint=new ec2.InterfaceVpcEndpoint(stack,"Endpoint",{vpc,service:ec2.InterfaceVpcEndpointAwsService.SECRETS_MANAGER}),cluster=new rds.DatabaseCluster(stack,"Database",{engine:rds.DatabaseClusterEngine.AURORA,instanceProps:{instanceType:ec2.InstanceType.of(ec2.InstanceClass.BURSTABLE3,ec2.InstanceSize.SMALL),vpc}});cluster.addRotationSingleUser();const clusterWithCustomRotationOptions=new rds.DatabaseCluster(stack,"CustomRotationOptions",{engine:rds.DatabaseClusterEngine.AURORA,instanceProps:{instanceType:ec2.InstanceType.of(ec2.InstanceClass.BURSTABLE3,ec2.InstanceSize.SMALL),vpc}});clusterWithCustomRotationOptions.addRotationSingleUser({automaticallyAfter:cdk.Duration.days(7),excludeCharacters:"!@#$%^&*",securityGroup,vpcSubnets:{subnetType:ec2.SubnetType.PRIVATE_WITH_EGRESS},endpoint}),app.synth();
