"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const kms=require("../../aws-kms"),sns=require("../../aws-sns"),sqs=require("../../aws-sqs"),cdk=require("../../core"),cxapi=require("../../cx-api"),subs=require("../lib"),restrictSqsDescryption={[cxapi.SNS_SUBSCRIPTIONS_SQS_DECRYPTION_POLICY]:!0};class SnsToSqs extends cdk.Stack{constructor(scope,id,props){super(scope,id,props);const topic=new sns.Topic(this,"MyTopic"),queue=new sqs.Queue(this,"MyQueue",{encryptionMasterKey:new kms.Key(this,"EncryptionMasterKey")});topic.addSubscription(new subs.SqsSubscription(queue,{deadLetterQueue:new sqs.Queue(this,"DeadLetterQueue")}))}}const app=new cdk.App({context:restrictSqsDescryption});new SnsToSqs(app,"aws-cdk-sns-sqs"),app.synth();
